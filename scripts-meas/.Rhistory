dfB$position <- 'Soil surface inside DFC'
dfC$position <- 'Soil surface inside DFC'
dfD$position <- 'Soil surface inside DFC'
dfA$number <- '0'
dfB$number <- '1'
dfC$number <- '2'
dfD$number <- '3'
df <- rbind(dfA, dfB, dfC, dfD)
df$elapsed.time <- difftime(df$date.time, min(df$date.time), units='hour')
df1 <- df[df$elapsed.time >= 1400, ]
df1 <- df1[df1$elapsed.time <= 1500, ]
df1$elapsed.time <- difftime(df1$date.time, min(df1$date.time), units='hour')
df1$period <- c('Period 1')
df2 <- df[df$elapsed.time >= 1720, ]
df2 <- df2[df2$elapsed.time <= 1820, ]
df2$elapsed.time <- difftime(df2$date.time, min(df2$date.time), units='hour')
df2$period <- c('Period 2')
df <- rbind(df1, df2)
# ambient temperature data
dw <- read_xlsx('../temp/weather_spring2023.xlsx')
dw$date <- as.Date(dw$date)
dw$date.time.weather <- paste(dw$date, dw$time)
df$date.time.weather <- df$date.time
df$date.time.weather <- as.character(round_date(df$date.time.weather, '1 hour'))
dw <- left_join(df, dw, by = 'date.time.weather')
dw1 <- dw[dw$number == '0', ]
dw1$number <- '4'
dw1$position <- 'Ambient 2 m'
dw1$temp <- dw1$air.temp
dw2 <- dw[dw$number == '0', ]
dw2$number <- '5'
dw2$position <- 'Soil 10 cm depth'
dw2$temp <- dw2$soil.temp
dw3 <- rbind(dw1, dw2)
df <- rbind(dw3, dw)
rm(list = ls())
dirname(rstudioapi::getActiveDocumentContext()$path)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
source('packages.R')
rm(list = ls())
dirname(rstudioapi::getActiveDocumentContext()$path)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
source('packages.R')
library(lubridate)
library(plyr)
library(lubridate)
library(plyr)
library(dplyr)
library(ggplot2)
library(zoo)
setwd("C:/Users/au583430/OneDrive - Aarhus universitet/Documents/GitHub/Pedersen-2024-MAG/scripts-meas")
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
source('subset.R')
?fread
??fread
source('../functions/ggsave2x.R')
source('../functions/dfsumm.R')
source('../functions/rounddf.R')
library(ggplot2)
sink('../logs/R-versions-meas.txt')
print(sessionInfo())
sink()
idat <- fread('../data-emission/data/MAG_interval.csv')
library(data.table)
idat <- fread('../data-emission/data/MAG_interval.csv')
pdat <- fread('../data-emission/data/MAG_plot.csv')
# Add trial keys and names for plots
tk <- c(`23C` = 'A', `23D` = 'B', `23G` = 'C', `23H` = 'D', `23I` = 'E')
pdat$trial <- tk[pdat$exper]
idat$trial <- tk[idat$exper]
# Merge in plot level variables
idat <- merge(pdat, idat, by = c('pid', 'pmid'))
isumm <- idat[, list(cta = max(cta),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
j.NH3.mean = mean(j.NH3),
j.NH3.min = min(j.NH3),
j.NH3.max = max(j.NH3),
e.cum.final = max(e.cum),
e.cum.final.gaps = sum(e.int[!grepl('i', flag.int)]),
e.rel.final = max(e.rel),
e.cum.168 = approx(cta, e.cum, xout = 168)$y,
e.rel.168 = approx(cta, e.rel, xout = 168)$y,
e.cum.168.sum = sum(e.int[cta <= 168]),
e.cum.168.gaps = sum(e.int[cta <= 168 & !grepl('i', flag.int)]),
n.int.168 = length(e.int[cta <= 168]),
n.int.168.gaps = length(e.int[cta <= 168 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid, )]
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
# Add trial keys and names for plots
tk <- c(`23C` = 'A', `23D` = 'B', `23G` = 'C', `23H` = 'D', `23I` = 'E')
pdat$trial <- tk[pdat$exper]
idat$trial <- tk[idat$exper]
# Merge in plot level variables
idat <- merge(pdat, idat, by = c('pid', 'pmid'))
View(idat)
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
source('subset.R')
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
# Add trial keys and names for plots
tk <- c(`23C` = 'A', `23D` = 'B', `23G` = 'C', `23H` = 'D', `23I` = 'E')
pdat$trial <- tk[pdat$exper]
# Merge in plot level variables
idat <- merge(pdat, idat, by = c('pid', 'pmid'))
isumm <- idat[, list(cta = max(cta),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
j.NH3.mean = mean(j.NH3),
j.NH3.min = min(j.NH3),
j.NH3.max = max(j.NH3),
e.cum.final = max(e.cum),
e.cum.final.gaps = sum(e.int[!grepl('i', flag.int)]),
e.rel.final = max(e.rel),
e.cum.168 = approx(cta, e.cum, xout = 168)$y,
e.rel.168 = approx(cta, e.rel, xout = 168)$y,
e.cum.168.sum = sum(e.int[cta <= 168]),
e.cum.168.gaps = sum(e.int[cta <= 168 & !grepl('i', flag.int)]),
n.int.168 = length(e.int[cta <= 168]),
n.int.168.gaps = length(e.int[cta <= 168 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid, )]
isumm <- idat[, list(cta = max(cta),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
j.NH3.mean = mean(j.NH3),
j.NH3.min = min(j.NH3),
j.NH3.max = max(j.NH3),
e.cum.final = max(e.cum),
e.cum.final.gaps = sum(e.int[!grepl('i', flag.int)]),
e.rel.final = max(e.rel),
e.cum.168 = approx(cta, e.cum, xout = 168)$y,
e.rel.168 = approx(cta, e.rel, xout = 168)$y,
e.cum.168.sum = sum(e.int[cta <= 168]),
e.cum.168.gaps = sum(e.int[cta <= 168 & !grepl('i', flag.int)]),
n.int.168 = length(e.int[cta <= 168]),
n.int.168.gaps = length(e.int[cta <= 168 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid)]
View(isumm)
isumm <- idat[, list(cta = max(cta),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.168 = approx(cta, e.cum, xout = 160)$y,
e.rel.168 = approx(cta, e.rel, xout = 160)$y,
e.cum.168.sum = sum(e.int[cta <= 160]),
e.cum.168.gaps = sum(e.int[cta <= 160 & !grepl('i', flag.int)]),
n.int.168 = length(e.int[cta <= 160]),
n.int.168.gaps = length(e.int[cta <= 160 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 160)$y,
e.rel.160 = approx(cta, e.rel, xout = 160)$y,
e.cum.160.sum = sum(e.int[cta <= 160]),
e.cum.160.gaps = sum(e.int[cta <= 160 & !grepl('i', flag.int)]),
n.int.160 = length(e.int[cta <= 160]),
n.int.160.gaps = length(e.int[cta <= 160 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 159)$y,
e.rel.160 = approx(cta, e.rel, xout = 159)$y,
e.cum.160.sum = sum(e.int[cta <= 159]),
e.cum.160.gaps = sum(e.int[cta <= 159 & !grepl('i', flag.int)]),
n.int.160 = length(e.int[cta <= 159]),
n.int.160.gaps = length(e.int[cta <= 159 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y,
e.cum.160.sum = sum(e.int[cta <= 150]),
e.cum.160.gaps = sum(e.int[cta <= 150 & !grepl('i', flag.int)]),
n.int.160 = length(e.int[cta <= 150]),
n.int.160.gaps = length(e.int[cta <= 150 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid)]
wsumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
), by = list(trial, treat, pmid)]
wsumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
), by = list(trial, pmid)]
wsumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp),
), by = list(trial, pmid)]
wsumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial, pmid)]
View(wsumm)
wsumm <- idat[, list(cta = max(cta),
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
View(wsumm)
wsumm <- idat[, list(air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
isumm <- idat[, list(cta = max(cta),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y,
e.cum.160.sum = sum(e.int[cta <= 150]),
e.cum.160.gaps = sum(e.int[cta <= 150 & !grepl('i', flag.int)]),
n.int.160 = length(e.int[cta <= 150]),
n.int.160.gaps = length(e.int[cta <= 150 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y,
e.cum.160.sum = sum(e.int[cta <= 150]),
e.cum.160.gaps = sum(e.int[cta <= 150 & !grepl('i', flag.int)]),
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y,
e.cum.160.sum = sum(e.int[cta <= 150]),
e.cum.160.gaps = sum(e.int[cta <= 150 & !grepl('i', flag.int)]),
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y,
e.cum.160.sum = sum(e.int[cta <= 150]),
e.cum.160.gaps = sum(e.int[cta <= 150 & !grepl('i', flag.int)])
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y,
e.cum.160.sum = sum(e.int[cta <= 150])
), by = list(trial, treat, pmid)]
isumm <- idat[, list(cta = max(cta),
e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y
), by = list(trial, treat, pmid)]
isumm <- idat[, list(e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y
), by = list(trial, treat, pmid)]
# cumulative emissions:
isumm <- idat[, list(e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.160 = approx(cta, e.cum, xout = 150)$y,
e.rel.160 = approx(cta, e.rel, xout = 150)$y
), by = list(trial, treat, pmid)]
# temperature data
wsumm <- idat[, list(air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
# remove one observation where there is no measurements after 2.48 h.
isumm <- isumm(! is.na(e.rel.160))
# remove one observation where there is no measurements after 2.48 h.
isumm <- isumm[! is.na(e.rel.160)]
# cumulative emissions:
isumm <- idat[, list(e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.150 = approx(cta, e.cum, xout = 150)$y,
e.rel.150 = approx(cta, e.rel, xout = 150)$y
), by = list(trial, treat, pmid)]
# remove one observation where there is no measurements after 2.48 h.
isumm <- isumm[! is.na(e.rel.150)]
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.n = length(e.rel.final), e.rel.final.sd = sd(e.rel.final),
e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.n = length(e.cum.final), e.cum.final.sd = sd(e.cum.final)
), by = list(trial.nm, app.date, meas.tech2, aer.grp)]
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.n = length(e.rel.final), e.rel.final.sd = sd(e.rel.final),
e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.n = length(e.cum.final), e.cum.final.sd = sd(e.cum.final)
), by = list(trial, treat)]
View(esumm)
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.sd = sd(e.rel.final), e.rel.final.n = length(e.rel.final),                       e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.sd = sd(e.cum.final), e.cum.final.n = length(e.cum.final),
), by = list(trial, treat)]
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.sd = sd(e.rel.final), e.rel.final.n = length(e.rel.final),                       e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.sd = sd(e.cum.final), e.cum.final.n = length(e.cum.final),
), by = list(trial, treat)]
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
source('subset.R')
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
# Add trial keys and names for plots
tk <- c(`23C` = 'A', `23D` = 'B', `23G` = 'C', `23H` = 'D', `23I` = 'E')
pdat$trial <- tk[pdat$exper]
# Merge in plot level variables
idat <- merge(pdat, idat, by = c('pid', 'pmid'))
# cumulative emissions:
isumm <- idat[, list(e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.150 = approx(cta, e.cum, xout = 150)$y,
e.rel.150 = approx(cta, e.rel, xout = 150)$y
), by = list(trial, treat, pmid)]
# remove one observation where there is no measurements after 2.48 h.
isumm <- isumm[! is.na(e.rel.150)]
# temperature data
wsumm <- idat[, list(air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.sd = sd(e.rel.final), e.rel.final.n = length(e.rel.final),                       e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.sd = sd(e.cum.final), e.cum.final.n = length(e.cum.final),
), by = list(trial, treat)]
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.sd = sd(e.rel.final), e.rel.final.n = length(e.rel.final),                       e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.sd = sd(e.cum.final), e.cum.final.n = length(e.cum.final)
), by = list(trial, treat)]
View(esumm)
# cumulative emissions:
isumm <- idat[, list(e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.150 = approx(cta, e.cum, xout = 150)$y,
e.rel.150 = approx(cta, e.rel, xout = 150)$y
), by = list(trial, treat, pmid)]
# remove one observation where there is no measurements after 2.48 h.
isumm <- isumm[! is.na(e.rel.150)]
# temperature data
wsumm <- idat[, list(air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.sd = sd(e.rel.final), e.rel.final.n = length(e.rel.final),                       e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.sd = sd(e.cum.final), e.cum.final.n = length(e.cum.final)
), by = list(trial, treat)]
rm(list = ls())
source('functions.R')
source('packages.R')
source('load.R')
# Add trial keys and names for plots
tk <- c(`23C` = 'A', `23D` = 'B', `23G` = 'C', `23H` = 'D', `23I` = 'E')
pdat$trial <- tk[pdat$exper]
# Merge in plot level variables
idat <- merge(pdat, idat, by = c('pid', 'pmid'))
# cumulative emissions:
isumm <- idat[, list(e.cum.final = max(e.cum),
e.rel.final = max(e.rel),
e.cum.150 = approx(cta, e.cum, xout = 150)$y,
e.rel.150 = approx(cta, e.rel, xout = 150)$y
), by = list(trial, treat, pmid)]
# remove one observation where there is no measurements after 2.48 h.
isumm <- isumm[! is.na(e.rel.150)]
View(isumm)
# temperature data
wsumm <- idat[, list(air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.sd = sd(e.rel.final), e.rel.final.n = length(e.rel.final),                       e.rel.150 = mean(e.rel.150), e.rel.150.n = length(e.rel.150), e.rel.150.sd = sd(e.rel.150),
e.cum.final = mean(e.cum.final), e.cum.final.sd = sd(e.cum.final), e.cum.final.n = length(e.cum.final)
), by = list(trial, treat)]
View(esumm)
# Mean and sd of cumulative emission
esumm <- isumm[ , list(
pmid = paste(pmid, collapse = ', '),
e.rel.final = mean(e.rel.final), e.rel.final.sd = sd(e.rel.final), e.rel.final.n = length(e.rel.final),
e.cum.final = mean(e.cum.final), e.cum.final.sd = sd(e.cum.final), e.cum.final.n = length(e.cum.final),
e.rel.150 = mean(e.rel.150), e.rel.150.sd = sd(e.rel.150), e.rel.150.n = length(e.rel.150),
e.cum.150 = mean(e.cum.150), e.cum.150.sd = sd(e.cum.150), e.cum.150.n = length(e.cum.150)
), by = list(trial, treat)]
isumm <- rounddf(as.data.frame(isumm), digits = 3, func = signif)
esumm <- rounddf(as.data.frame(esumm), 3, func = signif)
View(pdat)
# temperature data
wsumm <- idat[, list(dt = t.start.p[1]
air.temp.start = air.temp[1],
# temperature data
wsumm <- idat[, list(dt = t.start.p[1]
air.temp.start = air.temp[1],
# temperature data
wsumm <- idat[, list(dt = t.start.p[1],
air.temp.start = air.temp[1],
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
View(wsumm)
# temperature data
wsumm <- idat[, list(dt = t.start.p[1],
air.temp.start = mean(air.temp[1:15]),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
View(idat)
# temperature data
wsumm <- idat[, list(dt = t.start.p[1],
air.temp.start = mean(dt[dt$interval == '1', ]air.temp[1]),
# temperature data
wsumm <- idat[, list(dt = t.start.p[1],
air.temp.start = mean(dt[dt$interval == '1']air.temp[1]),
# temperature data
wsumm <- idat[, list(dt = t.start.p[1],
air.temp.start = mean(dt[dt$interval == '1', ]$air.temp[1]),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
# temperature data
wsumm <- idat[, list(dt = t.start.p[1],
air.temp.start = mean(idat[idat$interval == '1', ]$air.temp[1]),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
View(wsumm)
# temperature data
wsumm <- idat[, list(dt = t.start.p[1],
air.temp.start = mean(idat[idat$interval == '1', ]$air.temp),
air.temp.mean = mean(air.temp),
air.temp.min = min(air.temp),
air.temp.max = max(air.temp)
), by = list(trial)]
mean(idat[idat$interval == '1', ]
idat[idat$interval == '1', ]
idat
idat[idat$interval == '1', ]
test <- idat[idat$interval == '1', ]
View(test)
test <- idat[idat$interval == '1', ]$air.temp
test <- idat[idat$interval == '1', ]$air.temp
